<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of aff_doe</title>
  <meta name="keywords" content="aff_doe">
  <meta name="description" content="% Procedure assurant l'affichage des tirages en nD">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../m2html.css">
  <script type="text/javascript">
    if (top.frames.length == 0) { top.location = "../../index.html"; };
  </script>
</head>
<body>
<a name="_top"></a>
<!-- ../menu.html LMTir --><!-- menu.html routines -->
<h1>aff_doe
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>% Procedure assurant l'affichage des tirages en nD</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>function aff_doe(tirages,doe,manq) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre class="comment">% Procedure assurant l'affichage des tirages en nD
% L. LUARENT -- 10/02/2012 -- laurent@lmt.ens-cachan.fr</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../matlabicon.gif)">
</ul>
This function is called by:
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="../../LMTir/EXEMPLE_ENRICHISSEMENT.html" class="code" title="">EXEMPLE_ENRICHISSEMENT</a>	Exemple d'enrichissement tirage LHS_R</li><li><a href="gene_doe.html" class="code" title="function [out,info_tirages]=gene_doe(doe)">gene_doe</a>	% Realisation des tirages</li></ul>
<!-- crossreference -->

<h2><a name="_subfunctions"></a>SUBFUNCTIONS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="#_sub1" class="code">function plottext(X,Y,TXT,markM,colorM,sizeM,txt_on)</a></li></ul>

<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre>0001 <span class="comment">%% Procedure assurant l'affichage des tirages en nD</span>
0002 <span class="comment">%% L. LUARENT -- 10/02/2012 -- laurent@lmt.ens-cachan.fr</span>
0003 
0004 
0005 <a name="_sub0" href="#_subfunctions" class="code">function aff_doe(tirages,doe,manq)</a>
0006 
0007 <span class="comment">%affichage ordre tirages</span>
0008 aff_txt=true;
0009 
0010 <span class="comment">%recuperation bornes espace de conception</span>
0011 <span class="keyword">if</span> isfield(doe,<span class="string">'Xmin'</span>)&amp;&amp;isfield(doe,<span class="string">'Xmax'</span>)
0012     Xmin=doe.Xmin;
0013     Xmax=doe.Xmax;
0014 <span class="keyword">elseif</span> isfield(doe,<span class="string">'bornes'</span>)
0015     Xmin=doe.bornes(:,1);
0016     Xmax=doe.bornes(:,2);
0017 <span class="keyword">end</span>
0018 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0019 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0020 <span class="comment">%recherche et tri des manques d'information</span>
0021 liste_pts_ok=1:size(tirages,1);
0022 liste_eval_manq=[];
0023 liste_grad_manq=[];
0024 liste_both_manq=[];
0025 <span class="keyword">if</span> nargin==3
0026     <span class="keyword">if</span> manq.eval.on
0027         liste_eval_manq=unique(manq.eval.ix_manq(:));
0028         <span class="keyword">for</span> ii=1:numel(liste_eval_manq)
0029             ix=find(liste_pts_ok==liste_eval_manq(ii));
0030             liste_pts_ok(ix)=[];
0031         <span class="keyword">end</span>
0032     <span class="keyword">end</span>
0033     <span class="keyword">if</span> manq.grad.on
0034         liste_grad_manq=unique(manq.grad.ix_manq(:,1));
0035         <span class="keyword">for</span> ii=1:numel(liste_grad_manq)
0036             ix=find(liste_pts_ok==liste_grad_manq(ii));
0037             liste_pts_ok(ix)=[];
0038             
0039         <span class="keyword">end</span>
0040     <span class="keyword">end</span>
0041     <span class="keyword">if</span> manq.eval.on|| manq.grad.on
0042         liste_both_manq=intersect(liste_eval_manq,liste_grad_manq);
0043         <span class="keyword">for</span> ii=1:numel(liste_both_manq)
0044             ix=find(liste_eval_manq==liste_both_manq(ii));
0045             liste_eval_manq(ix)=[];
0046             ix=find(liste_grad_manq==liste_both_manq(ii));
0047             liste_grad_manq(ix)=[];
0048         <span class="keyword">end</span>
0049     <span class="keyword">end</span>
0050 <span class="keyword">end</span>
0051 <span class="comment">%texte a afficher ou non%</span>
0052 f1 = @(x) sprintf(<span class="string">'%i'</span>,x);
0053 f2 = @(x) cellfun(f1, num2cell(x), <span class="string">'UniformOutput'</span>, false);
0054 liste_pts_ok_txt=f2(liste_pts_ok);
0055 liste_eval_manq_txt=f2(liste_eval_manq);
0056 liste_grad_manq_txt=f2(liste_grad_manq);
0057 liste_both_manq_txt=f2(liste_both_manq);
0058 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0059 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0060 <span class="comment">%nombre de variables</span>
0061 nbv=numel(Xmin);
0062 
0063 <span class="keyword">if</span> doe.aff
0064     para=0.1;
0065     <span class="keyword">if</span> nbv==1
0066         figure
0067         hold on
0068         yy=0.*tirages;
0069         <span class="comment">%affichage points ou toutes les infos sont connues</span>
0070         <a href="#_sub1" class="code" title="subfunction plottext(X,Y,TXT,markM,colorM,sizeM,txt_on)">plottext</a>(tirages(liste_pts_ok),yy(liste_pts_ok),<span class="keyword">...</span>
0071             liste_pts_ok_txt,<span class="string">'o'</span>,<span class="string">'k'</span>,7,aff_txt);
0072         <span class="comment">%affichage points il manque une/des reponse(s)</span>
0073          <a href="#_sub1" class="code" title="subfunction plottext(X,Y,TXT,markM,colorM,sizeM,txt_on)">plottext</a>(tirages(liste_eval_manq),yy(liste_eval_manq),<span class="keyword">...</span>
0074             liste_eval_manq_txt,<span class="string">'rs'</span>,<span class="string">'r'</span>,7,aff_txt);
0075         <span class="comment">%affichage points il manque un/des gradient(s)</span>
0076         <a href="#_sub1" class="code" title="subfunction plottext(X,Y,TXT,markM,colorM,sizeM,txt_on)">plottext</a>(tirages(liste_grad_manq),yy(liste_grad_manq),<span class="keyword">...</span>
0077             liste_grad_manq_txt,<span class="string">'v'</span>,<span class="string">'g'</span>,7,aff_txt);
0078         <span class="comment">%affichage points il manque un/des gradient(s) et un/des</span>
0079         <span class="comment">%reponse(s) au m�me point</span>
0080         <a href="#_sub1" class="code" title="subfunction plottext(X,Y,TXT,markM,colorM,sizeM,txt_on)">plottext</a>(tirages(liste_both_manq),yy(liste_both_manq),<span class="keyword">...</span>
0081             liste_both_manq_txt,<span class="string">'d'</span>,<span class="string">'d'</span>,7,aff_txt);
0082         hold off
0083         xmin=Xmin(:)';
0084         xmax=Xmax(:)';
0085         dep=xmax-xmin;
0086         axis([(xmin-para*dep) (xmax+para*dep) -1 1])
0087     <span class="keyword">elseif</span> nbv==2
0088         
0089         xmin=Xmin(1);
0090         xmax=Xmax(1);
0091         ymin=Xmin(2);
0092         ymax=Xmax(2);
0093         depx=xmax-xmin;
0094         depy=ymax-ymin;
0095         figure
0096         hold on
0097         <span class="comment">%affichage points ou toutes les infos sont connues</span>
0098         <a href="#_sub1" class="code" title="subfunction plottext(X,Y,TXT,markM,colorM,sizeM,txt_on)">plottext</a>(tirages(liste_pts_ok,1),tirages(liste_pts_ok,2),<span class="keyword">...</span>
0099             liste_pts_ok_txt,<span class="string">'o'</span>,<span class="string">'k'</span>,7,aff_txt);
0100         <span class="comment">%affichage points il manque une/des reponse(s)</span>
0101         <a href="#_sub1" class="code" title="subfunction plottext(X,Y,TXT,markM,colorM,sizeM,txt_on)">plottext</a>(tirages(liste_eval_manq,1),tirages(liste_eval_manq,2),<span class="keyword">...</span>
0102             liste_eval_manq_txt,<span class="string">'rs'</span>,<span class="string">'r'</span>,7,aff_txt);
0103         <span class="comment">%affichage points il manque un/des gradient(s)</span>
0104         <a href="#_sub1" class="code" title="subfunction plottext(X,Y,TXT,markM,colorM,sizeM,txt_on)">plottext</a>(tirages(liste_grad_manq,1),tirages(liste_grad_manq,2),<span class="keyword">...</span>
0105             liste_grad_manq_txt,<span class="string">'v'</span>,<span class="string">'g'</span>,7,aff_txt);
0106         <span class="comment">%affichage points il manque un/des gradient(s) et un/des</span>
0107         <span class="comment">%reponse(s) au m�me point</span>
0108         <a href="#_sub1" class="code" title="subfunction plottext(X,Y,TXT,markM,colorM,sizeM,txt_on)">plottext</a>(tirages(liste_both_manq,1),tirages(liste_both_manq,2),<span class="keyword">...</span>
0109             liste_both_manq_txt,<span class="string">'d'</span>,<span class="string">'r'</span>,7,aff_txt);
0110         hold off
0111         axis([(xmin-para*depx) (xmax+para*depx) (ymin-para*depy) (ymax+para*depy)])
0112         line([xmin;xmin;xmax;xmax;xmax;xmax;xmax;xmin],[ymin;ymax;ymax;ymax;ymax;ymin;ymin;ymin])
0113     <span class="keyword">else</span>
0114         figure
0115         it=0;
0116         Depx=Xmax(:)'-Xmin(:)';
0117         <span class="keyword">for</span> ii=1:nbv
0118             <span class="keyword">for</span> jj=1:nbv
0119                 it=it+1;
0120                 <span class="keyword">if</span> ii~=jj
0121                     subplot(nbv,nbv,it)
0122                     hold on
0123                     <span class="comment">%affichage points ou toutes les infos sont connues</span>
0124                     <a href="#_sub1" class="code" title="subfunction plottext(X,Y,TXT,markM,colorM,sizeM,txt_on)">plottext</a>(tirages(liste_pts_ok,ii),tirages(liste_pts_ok,jj),<span class="keyword">...</span>
0125                         liste_pts_ok_txt,<span class="string">'o'</span>,<span class="string">'k'</span>,7,aff_txt);
0126                     <span class="comment">%affichage points il manque une/des reponse(s)</span>
0127                     <a href="#_sub1" class="code" title="subfunction plottext(X,Y,TXT,markM,colorM,sizeM,txt_on)">plottext</a>(tirages(liste_eval_manq,ii),tirages(liste_eval_manq,jj),<span class="keyword">...</span>
0128                         liste_eval_manq_txt,<span class="string">'rs'</span>,<span class="string">'r'</span>,7,aff_txt);
0129                     <span class="comment">%affichage points il manque un/des gradient(s)</span>
0130                     <a href="#_sub1" class="code" title="subfunction plottext(X,Y,TXT,markM,colorM,sizeM,txt_on)">plottext</a>(tirages(liste_grad_manq,ii),tirages(liste_grad_manq,jj),<span class="keyword">...</span>
0131                         liste_grad_manq_txt,<span class="string">'v'</span>,<span class="string">'g'</span>,7,aff_txt);
0132                     <span class="comment">%affichage points il manque un/des gradient(s) et un/des</span>
0133                     <span class="comment">%reponse(s) au m�me point</span>
0134                     <a href="#_sub1" class="code" title="subfunction plottext(X,Y,TXT,markM,colorM,sizeM,txt_on)">plottext</a>(tirages(liste_both_manq,ii),tirages(liste_both_manq,jj),<span class="keyword">...</span>
0135                         liste_both_manq_txt,<span class="string">'d'</span>,<span class="string">'r'</span>,7,aff_txt);
0136                     hold off
0137                     xmin=Xmin(ii);xmax=Xmax(ii);ymin=Xmin(jj);ymax=Xmax(jj);depx=Depx(ii);depy=Depx(jj);
0138                     axis([(xmin-para*depx) (xmax+para*depx) (ymin-para*depy) (ymax+para*depy)])
0139                     line([xmin;xmin;xmax;xmax;xmax;xmax;xmax;xmin],[ymin;ymax;ymax;ymax;ymax;ymin;ymin;ymin])
0140                 <span class="keyword">else</span>
0141                     subplot(nbv,nbv,it)
0142                     hist(tirages(:,ii))
0143                     xmin=Xmin(ii);xmax=Xmax(ii);depx=Depx(ii);depy=Depx(jj);
0144                     xlim([(xmin-para*depx) (xmax+para*depx)])
0145                 <span class="keyword">end</span>
0146             <span class="keyword">end</span>
0147         <span class="keyword">end</span>
0148     <span class="keyword">end</span>
0149 <span class="keyword">end</span>
0150 <span class="keyword">end</span>
0151 
0152 <a name="_sub1" href="#_subfunctions" class="code">function plottext(X,Y,TXT,markM,colorM,sizeM,txt_on)</a>
0153 plot(X,Y,<span class="keyword">...</span>
0154     markM,<span class="string">'MarkerEdgeColor'</span>,colorM,<span class="keyword">...</span>
0155     <span class="string">'MarkerFaceColor'</span>,colorM,<span class="keyword">...</span>
0156     <span class="string">'MarkerSize'</span>,sizeM);
0157 <span class="keyword">if</span> txt_on
0158     text(X,Y,<span class="keyword">...</span>
0159         TXT,<span class="string">'VerticalAlignment'</span>,<span class="string">'bottom'</span>);
0160 <span class="keyword">end</span>
0161 <span class="keyword">end</span></pre></div>
<hr><address>Generated on Fri 07-Feb-2014 19:36:29 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" target="_parent">m2html</a></strong> &copy; 2005</address>
</body>
</html>