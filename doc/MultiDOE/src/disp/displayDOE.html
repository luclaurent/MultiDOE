<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of displayDOE</title>
  <meta name="keywords" content="displayDOE">
  <meta name="description" content="MultiDOE - Toolbox for sampling a bounded space">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../../m2html.css">
  <script type="text/javascript">
    if (top.frames.length == 0) { top.location = "../../../index.html"; };
  </script>
</head>
<body>
<a name="_top"></a>
<!-- ../../menu.html MultiDOE --><!-- # src --><!-- menu.html disp -->
<h1>displayDOE
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong>MultiDOE - Toolbox for sampling a bounded space</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong>function displayDOE(sampling,doe,missData) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre class="comment">     MultiDOE - Toolbox for sampling a bounded space
     Copyright (C) 2016  Luc LAURENT &lt;luc.laurent@lecnam.net&gt;

 sources available here:
 https://bitbucket.org/luclaurent/multidoe/
 https://github.com/luclaurent/multidoe/

     This program is free software: you can redistribute it and/or modify
     it under the terms of the GNU General Public License as published by
     the Free Software Foundation, either version 3 of the License, or
     (at your option) any later version.

     This program is distributed in the hope that it will be useful,
     but WITHOUT ANY WARRANTY; without even the implied warranty of
     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
     GNU General Public License for more details.

     You should have received a copy of the GNU General Public License
     along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../../matlabicon.gif)">
</ul>
This function is called by:
<ul style="list-style-image:url(../../../matlabicon.gif)">
<li><a href="../../../MultiDOE/multiDOE.html" class="code" title="">multiDOE</a>	% multiDOE class for manipulating sampling</li></ul>
<!-- crossreference -->

<h2><a name="_subfunctions"></a>SUBFUNCTIONS <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<ul style="list-style-image:url(../../../matlabicon.gif)">
<li><a href="#_sub1" class="code">function plottext(X,Y,TXT,markM,colorM,sizeM,txtOn)</a></li></ul>

<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre>0001 <span class="comment">%     MultiDOE - Toolbox for sampling a bounded space</span>
0002 <span class="comment">%     Copyright (C) 2016  Luc LAURENT &lt;luc.laurent@lecnam.net&gt;</span>
0003 <span class="comment">%</span>
0004 <span class="comment">% sources available here:</span>
0005 <span class="comment">% https://bitbucket.org/luclaurent/multidoe/</span>
0006 <span class="comment">% https://github.com/luclaurent/multidoe/</span>
0007 <span class="comment">%</span>
0008 <span class="comment">%     This program is free software: you can redistribute it and/or modify</span>
0009 <span class="comment">%     it under the terms of the GNU General Public License as published by</span>
0010 <span class="comment">%     the Free Software Foundation, either version 3 of the License, or</span>
0011 <span class="comment">%     (at your option) any later version.</span>
0012 <span class="comment">%</span>
0013 <span class="comment">%     This program is distributed in the hope that it will be useful,</span>
0014 <span class="comment">%     but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
0015 <span class="comment">%     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
0016 <span class="comment">%     GNU General Public License for more details.</span>
0017 <span class="comment">%</span>
0018 <span class="comment">%     You should have received a copy of the GNU General Public License</span>
0019 <span class="comment">%     along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
0020 <span class="comment">%</span>
0021 
0022 <span class="comment">%% Function for displaying sampling with nD variables</span>
0023 <span class="comment">%% L. LUARENT -- 10/02/2012 -- luc.laurent@lecnam.net</span>
0024 
0025 
0026 <a name="_sub0" href="#_subfunctions" class="code">function displayDOE(sampling,doe,missData)</a>
0027 
0028 <span class="comment">%show order of the sampling</span>
0029 dispTXT=true;
0030 
0031 <span class="comment">%load bounds of the design space</span>
0032 <span class="keyword">if</span> isfield(doe,<span class="string">'Xmin'</span>)&amp;&amp;isfield(doe,<span class="string">'Xmax'</span>)
0033     Xmin=doe.Xmin;
0034     Xmax=doe.Xmax;
0035 <span class="keyword">elseif</span> isfield(doe,<span class="string">'bounds'</span>)
0036     Xmin=doe.bounds(:,1);
0037     Xmax=doe.bounds(:,2);
0038 <span class="keyword">end</span>
0039 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0040 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0041 <span class="comment">%seek and reordering data in the case of missing data</span>
0042 listSampleOK=1:size(sampling,1);
0043 listRespMiss=[];
0044 listGradMiss=[];
0045 listBothMiss=[];
0046 <span class="keyword">if</span> nargin==3
0047     <span class="keyword">if</span> missData.resp.on
0048         listRespMiss=unique(missData.resp.ixMiss(:));
0049         <span class="keyword">for</span> ii=1:numel(listRespMiss)
0050             ix=find(listSampleOK==listRespMiss(ii));
0051             listSampleOK(ix)=[];
0052         <span class="keyword">end</span>
0053     <span class="keyword">end</span>
0054     <span class="keyword">if</span> missData.grad.on
0055         listGradMiss=unique(missData.grad.ixMiss(:,1));
0056         <span class="keyword">for</span> ii=1:numel(listGradMiss)
0057             ix=find(listSampleOK==listGradMiss(ii));
0058             listSampleOK(ix)=[];
0059             
0060         <span class="keyword">end</span>
0061     <span class="keyword">end</span>
0062     <span class="keyword">if</span> missData.resp.on|| missData.grad.on
0063         listBothMiss=intersect(listRespMiss,listGradMiss);
0064         <span class="keyword">for</span> ii=1:numel(listBothMiss)
0065             ix=find(listRespMiss==listBothMiss(ii));
0066             listRespMiss(ix)=[];
0067             ix=find(listGradMiss==listBothMiss(ii));
0068             listGradMiss(ix)=[];
0069         <span class="keyword">end</span>
0070     <span class="keyword">end</span>
0071 <span class="keyword">end</span>
0072 <span class="comment">%text to display or not</span>
0073 f1 = @(x) sprintf(<span class="string">'%i'</span>,x);
0074 f2 = @(x) cellfun(f1, num2cell(x), <span class="string">'UniformOutput'</span>, false);
0075 listSampleOKtxt=f2(listSampleOK);
0076 listRespMissTxt=f2(listRespMiss);
0077 listGradMissTxt=f2(listGradMiss);
0078 listBothMissTxt=f2(listBothMiss);
0079 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0080 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0081 <span class="comment">%number of variables</span>
0082 np=numel(Xmin);
0083 
0084 
0085 para=0.1;
0086 <span class="keyword">if</span> np==1
0087     figure
0088     hold on
0089     yy=0.*sampling;
0090     <span class="comment">%show sample points on which all data are available</span>
0091     <a href="#_sub1" class="code" title="subfunction plottext(X,Y,TXT,markM,colorM,sizeM,txtOn)">plottext</a>(sampling(listSampleOK),yy(listSampleOK),<span class="keyword">...</span>
0092         listSampleOKtxt,<span class="string">'o'</span>,<span class="string">'k'</span>,7,dispTXT);
0093     <span class="comment">%show sample point(s) on which response(s) is(are) missing</span>
0094     <a href="#_sub1" class="code" title="subfunction plottext(X,Y,TXT,markM,colorM,sizeM,txtOn)">plottext</a>(sampling(listRespMiss),yy(listRespMiss),<span class="keyword">...</span>
0095         listRespMissTxt,<span class="string">'rs'</span>,<span class="string">'r'</span>,7,dispTXT);
0096     <span class="comment">%show sample point(s) on which gradients(s) is(are) missing</span>
0097     <a href="#_sub1" class="code" title="subfunction plottext(X,Y,TXT,markM,colorM,sizeM,txtOn)">plottext</a>(sampling(listGradMiss),yy(listGradMiss),<span class="keyword">...</span>
0098         listGradMissTxt,<span class="string">'v'</span>,<span class="string">'g'</span>,7,dispTXT);
0099     <span class="comment">%show sample point(s) on which response(s) and gradient(s) are missing</span>
0100     <a href="#_sub1" class="code" title="subfunction plottext(X,Y,TXT,markM,colorM,sizeM,txtOn)">plottext</a>(sampling(listBothMiss),yy(listBothMiss),<span class="keyword">...</span>
0101         listBothMissTxt,<span class="string">'d'</span>,<span class="string">'d'</span>,7,dispTXT);
0102     hold off
0103     xMin=Xmin(:)';
0104     xMax=Xmax(:)';
0105     depXX=xMax-xMin;
0106     axis([(xMin-para*depXX) (xMax+para*depXX) -1 1])
0107     <span class="comment">%</span>
0108     xlabel(<span class="string">'$x$'</span>)
0109     <span class="comment">%</span>
0110 <span class="keyword">elseif</span> np==2
0111     <span class="comment">%</span>
0112     xMin=Xmin(1);
0113     xMax=Xmax(1);
0114     yMin=Xmin(2);
0115     yMax=Xmax(2);
0116     depXX=xMax-xMin;
0117     depYY=yMax-yMin;
0118     figure
0119     hold on
0120     <span class="comment">%show sample points on which all data are available</span>
0121     <a href="#_sub1" class="code" title="subfunction plottext(X,Y,TXT,markM,colorM,sizeM,txtOn)">plottext</a>(sampling(listSampleOK,1),sampling(listSampleOK,2),<span class="keyword">...</span>
0122         listSampleOKtxt,<span class="string">'o'</span>,<span class="string">'k'</span>,7,dispTXT);
0123     <span class="comment">%show sample point(s) on which response(s) is(are) missing</span>
0124     <a href="#_sub1" class="code" title="subfunction plottext(X,Y,TXT,markM,colorM,sizeM,txtOn)">plottext</a>(sampling(listRespMiss,1),sampling(listRespMiss,2),<span class="keyword">...</span>
0125         listRespMissTxt,<span class="string">'rs'</span>,<span class="string">'r'</span>,7,dispTXT);
0126     <span class="comment">%show sample point(s) on which gradients(s) is(are) missing</span>
0127     <a href="#_sub1" class="code" title="subfunction plottext(X,Y,TXT,markM,colorM,sizeM,txtOn)">plottext</a>(sampling(listGradMiss,1),sampling(listGradMiss,2),<span class="keyword">...</span>
0128         listGradMissTxt,<span class="string">'v'</span>,<span class="string">'g'</span>,7,dispTXT);
0129     <span class="comment">%show sample point(s) on which response(s) and gradient(s) are missing</span>
0130     <a href="#_sub1" class="code" title="subfunction plottext(X,Y,TXT,markM,colorM,sizeM,txtOn)">plottext</a>(sampling(listBothMiss,1),sampling(listBothMiss,2),<span class="keyword">...</span>
0131         listBothMissTxt,<span class="string">'d'</span>,<span class="string">'r'</span>,7,dispTXT);
0132     hold off
0133     axis([(xMin-para*depXX) (xMax+para*depXX) (yMin-para*depYY) (yMax+para*depYY)])
0134     line([xMin;xMin;xMax;xMax;xMax;xMax;xMax;xMin],[yMin;yMax;yMax;yMax;yMax;yMin;yMin;yMin])
0135     <span class="comment">%</span>
0136     xlabel(<span class="string">'$x$'</span>,<span class="string">'Interpreter'</span>,<span class="string">'latex'</span>);
0137     ylabel(<span class="string">'$y$'</span>,<span class="string">'Interpreter'</span>,<span class="string">'latex'</span>);
0138 <span class="keyword">else</span>
0139     figure
0140     it=0;
0141     depX=Xmax(:)'-Xmin(:)';
0142     <span class="keyword">for</span> ii=1:np
0143         <span class="keyword">for</span> jj=1:np
0144             it=it+1;
0145             <span class="keyword">if</span> ii~=jj
0146                 subplot(np,np,it)
0147                 hold on
0148                 <span class="comment">%show sample points on which all data are available</span>
0149                 <a href="#_sub1" class="code" title="subfunction plottext(X,Y,TXT,markM,colorM,sizeM,txtOn)">plottext</a>(sampling(listSampleOK,ii),sampling(listSampleOK,jj),<span class="keyword">...</span>
0150                     listSampleOKtxt,<span class="string">'o'</span>,<span class="string">'k'</span>,7,dispTXT);
0151                 <span class="comment">%show sample point(s) on which response(s) is(are) missing</span>
0152                 <a href="#_sub1" class="code" title="subfunction plottext(X,Y,TXT,markM,colorM,sizeM,txtOn)">plottext</a>(sampling(listRespMiss,ii),sampling(listRespMiss,jj),<span class="keyword">...</span>
0153                     listRespMissTxt,<span class="string">'rs'</span>,<span class="string">'r'</span>,7,dispTXT);
0154                 <span class="comment">%show sample point(s) on which gradients(s) is(are) missing</span>
0155                 <a href="#_sub1" class="code" title="subfunction plottext(X,Y,TXT,markM,colorM,sizeM,txtOn)">plottext</a>(sampling(listGradMiss,ii),sampling(listGradMiss,jj),<span class="keyword">...</span>
0156                     listGradMissTxt,<span class="string">'v'</span>,<span class="string">'g'</span>,7,dispTXT);
0157                 <span class="comment">%show sample point(s) on which response(s) and gradient(s) are missing</span>
0158                 <a href="#_sub1" class="code" title="subfunction plottext(X,Y,TXT,markM,colorM,sizeM,txtOn)">plottext</a>(sampling(listBothMiss,ii),sampling(listBothMiss,jj),<span class="keyword">...</span>
0159                     listBothMissTxt,<span class="string">'d'</span>,<span class="string">'r'</span>,7,dispTXT);
0160                 hold off
0161                 xMin=Xmin(ii);xMax=Xmax(ii);yMin=Xmin(jj);yMax=Xmax(jj);depXX=depX(ii);depYY=depX(jj);
0162                 axis([(xMin-para*depXX) (xMax+para*depXX) (yMin-para*depYY) (yMax+para*depYY)])
0163                 line([xMin;xMin;xMax;xMax;xMax;xMax;xMax;xMin],[yMin;yMax;yMax;yMax;yMax;yMin;yMin;yMin])
0164                 <span class="comment">%</span>
0165                 stringLabel=@(iv)sprintf(<span class="string">'$x_{%i}$'</span>,iv);
0166                 xlabel(stringLabel(ii),<span class="string">'Interpreter'</span>,<span class="string">'latex'</span>);
0167                 ylabel(stringLabel(jj),<span class="string">'Interpreter'</span>,<span class="string">'latex'</span>);
0168             <span class="keyword">else</span>
0169                 subplot(np,np,it)
0170                 hist(sampling(:,ii))
0171                 xMin=Xmin(ii);xMax=Xmax(ii);depXX=depX(ii);depYY=depX(jj);
0172                 xlim([(xMin-para*depXX) (xMax+para*depYY)]);
0173                 <span class="comment">%</span>
0174                 stringLabel=@(iv)sprintf(<span class="string">'$x_{%i}$'</span>,iv);
0175                 xlabel(stringLabel(ii),<span class="string">'Interpreter'</span>,<span class="string">'latex'</span>);
0176             <span class="keyword">end</span>
0177         <span class="keyword">end</span>
0178     <span class="keyword">end</span>
0179 <span class="keyword">end</span>
0180 <span class="keyword">end</span>
0181 
0182 
0183 <span class="comment">%%fonction for showing points and text above it</span>
0184 <a name="_sub1" href="#_subfunctions" class="code">function plottext(X,Y,TXT,markM,colorM,sizeM,txtOn)</a>
0185 plot(X,Y,<span class="keyword">...</span>
0186     markM,<span class="string">'MarkerEdgeColor'</span>,colorM,<span class="keyword">...</span>
0187     <span class="string">'MarkerFaceColor'</span>,colorM,<span class="keyword">...</span>
0188     <span class="string">'MarkerSize'</span>,sizeM);
0189 <span class="keyword">if</span> txtOn
0190     text(X,Y,<span class="keyword">...</span>
0191         TXT,<span class="string">'VerticalAlignment'</span>,<span class="string">'bottom'</span>);
0192 <span class="keyword">end</span>
0193 <span class="keyword">end</span></pre></div>
<hr><address>Generated on Wed 08-May-2019 14:48:29 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" target="_parent">m2html</a></strong> &copy; 2005</address>
</body>
</html>